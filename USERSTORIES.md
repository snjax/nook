# Nook — User Stories


## 1. Жизненный цикл подов (US-001 — US-035)

US-001 | Как разработчик, я хочу добавить под из директории с devcontainer.json, чтобы начать работу над проектом.

US-002 | Как разработчик, я хочу запустить остановленный под одной кнопкой, чтобы не набирать команды в терминале.

US-003 | Как разработчик, я хочу остановить запущенный под, чтобы освободить ресурсы, не удаляя контейнер.

US-004 | Как разработчик, я хочу удалить под из списка вместе с контейнером, чтобы очистить неиспользуемый проект.

US-005 | Как разработчик, я хочу при удалении пода опционально удалять volumes, чтобы полностью очистить данные проекта.

US-006 | Как разработчик, я хочу перезапустить под одной кнопкой (stop + start), чтобы не делать два клика при проблемах.

US-007 | Как разработчик, я хочу видеть статус пода (Running / Stopped / Starting / Error), чтобы понимать его текущее состояние.

US-008 | Как разработчик, я хочу видеть время работы запущенного пода (uptime), чтобы понимать как давно он запущен.

US-009 | Как разработчик, я хочу видеть время последней остановки пода, чтобы понимать когда я его использовал.

US-010 | Как разработчик, я хочу видеть образ контейнера в карточке, чтобы отличать поды с разными стеками.

US-011 | Как разработчик, я хочу запускать несколько подов одновременно, чтобы работать над фронтендом и бэкендом параллельно.

US-012 | Как разработчик, я хочу видеть прогресс при первом запуске пода (pull образа, сборка), чтобы понимать что происходит.

US-013 | Как разработчик, я хочу отменить запуск пода если он завис на сборке, чтобы не ждать бесконечно.

US-014 | Как разработчик, я хочу принудительно остановить под (force kill) если graceful stop не сработал, чтобы не иметь зависших контейнеров.

US-030 | Как разработчик, я хочу видеть причину ошибки если под не запустился, чтобы понять как исправить проблему.

US-032 | Как разработчик, я хочу пересобрать контейнер пода (rebuild), чтобы применить изменения в Dockerfile или devcontainer.json.

US-033 | Как разработчик, я хочу чтобы при rebuild сохранялись настройки портов и алиасы пода, чтобы не перенастраивать всё заново.

US-034 | Как разработчик, я хочу закрепить (pin) важные поды наверху списка, чтобы они всегда были на виду.

US-035 | Как разработчик, я хочу скрыть редко используемые поды из основного списка (archive), чтобы не засорять UI.

---

## 2. Порты — обнаружение и expose (US-036 — US-070)

US-036 | Как разработчик, я хочу чтобы Nook автоматически обнаруживал открытые порты в контейнере, чтобы не искать их вручную.

US-037 | Как разработчик, я хочу видеть промпт expose/ignore при обнаружении нового порта, чтобы решить пробрасывать ли его.

US-038 | Как разработчик, я хочу пробросить порт из контейнера на хост одной кнопкой (Expose), чтобы открыть сервис в браузере.

US-039 | Как разработчик, я хочу игнорировать предложение expose для порта (Ignore), чтобы не засорять список служебными портами.

US-040 | Как разработчик, я хочу видеть проброшенные порты в карточке пода, чтобы знать что доступно с хоста.

US-041 | Как разработчик, я хочу удалить проброс порта кнопкой [×] прямо в карточке, чтобы не открывать настройки.

US-042 | Как разработчик, я хочу чтобы после удаления проброса Nook снова предложил expose для этого порта, чтобы я мог передумать.

US-043 | Как разработчик, я хочу чтобы ранее exposed порты автоматически пробрасывались при перезапуске пода, чтобы не настраивать каждый раз.

US-044 | Как разработчик, я хочу видеть предупреждение если порт на хосте уже занят, чтобы понимать почему сервис недоступен.

US-045 | Как разработчик, я хочу изменить маппинг порта (container:8080 → host:9090), чтобы обойти конфликт с занятым портом.

US-046 | Как разработчик, я хочу чтобы Nook определял протокол обнаруженного порта (http, postgres, redis), чтобы я видел что за сервис.

US-047 | Как разработчик, я хочу видеть какой процесс слушает на конкретном порту, чтобы понимать от какого сервиса этот порт.

US-048 | Как разработчик, я хочу скопировать URL проброшенного порта в буфер обмена, чтобы быстро вставить его в браузер.

US-049 | Как разработчик, я хочу открыть проброшенный HTTP-порт в системном браузере одной кнопкой, чтобы сразу увидеть результат.

US-050 | Как разработчик, я хочу настроить список протоколов для автоматического предложения expose, чтобы контролировать что мне предлагают.

US-051 | Как разработчик, я хочу добавить порт в список not-expose глобально, чтобы мне никогда не предлагали пробрасывать SSH (22).

US-052 | Как разработчик, я хочу добавить кастомные well-known порты (3000 = http), чтобы Nook правильно определял мои нестандартные порты.

US-053 | Как разработчик, я хочу задать per-pod not-expose фильтры, чтобы скрыть служебные порты конкретного проекта.

US-054 | Как разработчик, я хочу вручную добавить порт для expose (без автообнаружения), чтобы пробросить порт до запуска сервиса.

US-055 | Как разработчик, я хочу видеть все порты пода в одном месте (exposed + detected + manually added), чтобы иметь полную картину.

US-056 | Как разработчик, я хочу менять host_port для маппинга прямо в карточке пода, чтобы быстро решить конфликт не открывая настройки.

US-057 | Как разработчик, я хочу видеть историю обнаруженных портов за сессию, чтобы понимать что Nook вообще видит в контейнере.

US-060 | Как разработчик, я хочу чтобы при expose HTTP-порта Nook показывал кликабельный URL (http://localhost:3000), чтобы сразу перейти.

US-063 | Как разработчик, я хочу чтобы при конфликте портов между подами Nook предложил альтернативный host_port, чтобы оба сервиса работали.

US-065 | Как разработчик, я хочу настроить bind address для проброшенных портов (0.0.0.0 / 127.0.0.1), чтобы контролировать доступ по сети.

US-066 | Как разработчик, я хочу глобально задать bind address по умолчанию (только localhost), чтобы порты не были доступны из сети.

US-068 | Как разработчик, я хочу чтобы Nook автоматически expose'ил порты из поля forwardPorts в devcontainer.json, чтобы уважать конфигурацию проекта.

US-069 | Как разработчик, я хочу чтобы portsAttributes из devcontainer.json учитывались (label, protocol), чтобы была совместимость с VS Code.

US-070 | Как разработчик, я хочу группировать порты в карточке по протоколу (HTTP, Database, Other), чтобы быстрее ориентироваться.

---

## 3. Терминал и шелл (US-071 — US-098)

US-071 | Как разработчик, я хочу открыть системный терминал подключённый к контейнеру одной кнопкой, чтобы быстро начать работу.

US-072 | Как разработчик, я хочу чтобы Nook автоматически определял дефолтный шелл контейнера (zsh, fish, bash), чтобы открылся привычный шелл.

US-073 | Как разработчик, я хочу переопределить шелл для конкретного пода, чтобы использовать bash вместо автоопределённого zsh.

US-074 | Как разработчик, я хочу задать глобальный шелл по умолчанию, чтобы все новые поды открывались с ним если автодетект не сработал.

US-075 | Как разработчик, я хочу выбрать системный терминал по умолчанию (alacritty, kitty, gnome-terminal), чтобы Nook использовал мой любимый.

US-076 | Как разработчик, я хочу задать кастомную команду запуска терминала, чтобы использовать нестандартный эмулятор.

US-077 | Как разработчик, я хочу открыть несколько терминалов к одному поду одновременно, чтобы запускать команды в параллели.

US-078 | Как разработчик, я хочу чтобы терминал открывался в рабочей директории проекта внутри контейнера, чтобы не cd-шить каждый раз.

US-079 | Как разработчик, я хочу задать рабочую директорию для терминала per-pod, чтобы попадать в нужную папку в монорепе.

US-080 | Как разработчик, я хочу чтобы терминал наследовал environment variables из devcontainer.json, чтобы окружение было консистентным.

US-081 | Как разработчик, я хочу задать дополнительные env variables для терминала per-pod, чтобы устанавливать DEBUG=true без правки devcontainer.json.

US-082 | Как разработчик, я хочу видеть количество открытых терминалов для каждого пода, чтобы не плодить лишние сессии.

US-083 | Как разработчик, я хочу чтобы при остановке пода Nook предупреждал об открытых терминалах, чтобы я не потерял несохранённую работу.

US-084 | Как разработчик, я хочу быстро открыть терминал с root-доступом к контейнеру, чтобы устанавливать системные пакеты.

US-096 | Как разработчик, я хочу видеть в карточке пода какой шелл будет использован при открытии терминала, чтобы знать заранее.

US-097 | Как разработчик, я хочу чтобы Nook на macOS использовал iTerm2 если он установлен, а не Terminal.app, чтобы получить лучший UX.

US-098 | Как разработчик, я хочу задать разные терминалы для разных подов, чтобы использовать kitty для одного и alacritty для другого.

---

## 4. Мониторинг ресурсов (US-099 — US-126)

US-099 | Как разработчик, я хочу видеть текущую загрузку CPU пода в карточке, чтобы понимать нагруженность.

US-100 | Как разработчик, я хочу видеть потребление RAM пода в карточке (используется / лимит), чтобы отслеживать утечки памяти.

US-101 | Как разработчик, я хочу видеть sparkline-график CPU за последние N минут, чтобы видеть динамику нагрузки.

US-102 | Как разработчик, я хочу видеть sparkline-график RAM за последние N минут, чтобы замечать рост потребления.

US-103 | Как разработчик, я хочу настроить период sparkline-графика (1 мин / 5 мин / 15 мин / 1 час), чтобы видеть нужный масштаб.

US-104 | Как разработчик, я хочу видеть список процессов внутри контейнера, чтобы понимать что работает.

US-105 | Как разработчик, я хочу видеть CPU и RAM каждого процесса внутри контейнера, чтобы найти прожорливый процесс.

US-107 | Как разработчик, я хочу настроить интервал обновления метрик (1 / 2 / 5 сек), чтобы балансировать точность и нагрузку.

US-108 | Как разработчик, я хочу настроить интервал обновления списка процессов, чтобы не нагружать контейнер частыми запросами.

US-110 | Как разработчик, я хочу видеть суммарное потребление CPU и RAM всех запущенных подов, чтобы понимать общую нагрузку.

US-120 | Как разработчик, я хочу свернуть секцию процессов в карточке пода, чтобы карточка была компактнее.

US-121 | Как разработчик, я хочу свернуть секцию портов в карточке пода, чтобы карточка была компактнее.

---

## 5. Глобальные настройки (US-127 — US-168)

US-127 | Как разработчик, я хочу открыть панель глобальных настроек, чтобы управлять поведением приложения.

US-132 | Как разработчик, я хочу настроить список протоколов для авто-expose, чтобы Nook предлагал только нужные.

US-133 | Как разработчик, я хочу настроить список not-expose фильтров (по порту или протоколу), чтобы не получать промпты для служебных портов.

US-134 | Как разработчик, я хочу добавить кастомные маппинги порт→протокол, чтобы Nook распознавал нестандартные порты моих сервисов.

US-135 | Как разработчик, я хочу выбрать системный терминал из списка обнаруженных, чтобы не вводить путь вручную.

US-136 | Как разработчик, я хочу задать кастомный шаблон команды терминала, чтобы поддержать нестандартный эмулятор.

US-137 | Как разработчик, я хочу задать шелл по умолчанию для всех подов, чтобы все новые контейнеры открывались с ним.

US-143 | Как разработчик, я хочу сбросить все настройки к значениям по умолчанию, чтобы начать с чистого листа.

US-144 | Как разработчик, я хочу экспортировать все настройки в файл, чтобы перенести конфигурацию на другую машину.

US-145 | Как разработчик, я хочу импортировать настройки из файла, чтобы восстановить конфигурацию.

US-150 | Как разработчик, я хочу выбрать container runtime (Docker / Podman), чтобы использовать предпочтительный.

US-151 | Как разработчик, я хочу задать bind address по умолчанию для проброшенных портов (127.0.0.1 или 0.0.0.0), чтобы контролировать безопасность.

US-157 | Как разработчик, я хочу включить/выключить desktop-уведомления (notifications), чтобы контролировать отвлечения.

US-158 | Как разработчик, я хочу настроить звуковые оповещения (вкл/выкл), чтобы слышать или не слышать события.

US-159 | Как разработчик, я хочу настроить тему оформления (dark / light / system), чтобы UI соответствовал моей системе.

US-165 | Как разработчик, я хочу задать путь к devcontainer CLI если он не в PATH, чтобы Nook мог его найти.

---

## 6. Настройки пода (per-pod) (US-169 — US-203)

US-169 | Как разработчик, я хочу открыть настройки конкретного пода, чтобы изменить его конфигурацию.

US-170 | Как разработчик, я хочу задать алиас (display name) пода, чтобы отличать его от других с похожим именем.

US-171 | Как разработчик, я хочу задать цветную метку для пода, чтобы визуально группировать.

US-172 | Как разработчик, я хочу переопределить шелл для конкретного пода, чтобы использовать fish вместо дефолтного.

US-173 | Как разработчик, я хочу задать пользователя для терминальных сессий этого пода, чтобы подключаться нужным юзером.

US-174 | Как разработчик, я хочу задать рабочую директорию для терминала этого пода, чтобы попадать в /app вместо /home (по умолчанию берется из devcontainer.json)

US-175 | Как разработчик, я хочу задать дополнительные env variables для этого пода, чтобы задать NODE_ENV=development.

US-181 | Как разработчик, я хочу переопределить маппинги портов для этого пода (8080→9090), чтобы обойти конфликты.

US-182 | Как разработчик, я хочу задать per-pod not-expose фильтры, чтобы скрыть внутренние порты этого сервиса.

US-183 | Как разработчик, я хочу задать per-pod auto-expose порты, чтобы определённые порты пробрасывались автоматически.

US-184 | Как разработчик, я хочу выбрать терминал для этого пода (отличный от глобального), чтобы использовать специфический эмулятор.


US-190 | Как разработчик, я хочу видеть путь к devcontainer.json в настройках пода, чтобы знать откуда он.

US-191 | Как разработчик, я хочу открыть workdir пода в просмотрщике файлов в host os по умолчанию

US-196 | Как разработчик, я хочу задать per-pod bind address для портов, чтобы один под был доступен из сети а другой только локально.

US-197 | Как разработчик, я хочу видеть diff между текущими настройками пода и значениями по умолчанию, чтобы понимать что переопределено.

US-198 | Как разработчик, я хочу сбросить настройки пода к значениям по умолчанию, чтобы убрать все кастомизации.

US-199 | Как разработчик, я хочу скопировать настройки одного пода в другой, чтобы не настраивать похожие проекты с нуля.


---

## 7. Обнаружение и onboarding (US-204 — US-220)

US-204 | Как разработчик, я хочу чтобы при первом запуске Nook проверил зависимости (Docker, devcontainer CLI), чтобы я знал что нужно доустановить.

US-205 | Как разработчик, я хочу видеть чеклист зависимостей с инструкциями по установке, чтобы быстро всё настроить.

US-206 | Как разработчик, я хочу перепроверить зависимости кнопкой Re-check, чтобы подтвердить что всё установлено.

US-207 | Как разработчик, я хочу чтобы onboarding не показывался повторно после успешной проверки, чтобы не раздражал.

US-212 | Как разработчик, я хочу видеть пустое состояние (empty state) с подсказкой что делать дальше, чтобы не растеряться при первом использовании.

US-213 | Как разработчик, я хочу добавить под через drag & drop директории на окно Nook, чтобы не искать через file picker.

US-214 | Как разработчик, я хочу чтобы Nook поддерживал несколько devcontainer.json в одном репозитории (монорепо), чтобы добавить нужный.

US-215 | Как разработчик, я хочу видеть preview конфигурации devcontainer перед добавлением (образ, features, ports), чтобы понимать что добавляю.

US-218 | Как разработчик, я хочу чтобы Nook проверял Docker daemon при каждом запуске и показывал понятную ошибку если он не работает, чтобы я знал причину проблемы.

---

## 8. UI и навигация (US-221 — US-247)

US-221 | Как разработчик, я хочу видеть все поды на одном экране в виде тайлов, чтобы иметь полную картину.

US-222 | Как разработчик, я хочу чтобы запущенные поды отображались широкими тайлами с метриками, чтобы видеть детали.

US-223 | Как разработчик, я хочу чтобы остановленные поды отображались узкими тайлами, чтобы они не занимали много места.

US-224 | Как разработчик, я хочу чтобы цветная полоска слева от тайла показывала статус (зелёный=running, серый=stopped, красный=error), чтобы видеть статус на глаз.

US-225 | Как разработчик, я хочу использовать горячие клавиши для основных действий (start, stop, terminal, settings), чтобы работать быстрее.

US-226 | Как разработчик, я хочу настроить горячие клавиши под себя, чтобы использовать привычные комбинации.

US-227 | Как разработчик, я хочу навигировать между подами клавиатурой (стрелки, j/k), чтобы не использовать мышь.

US-229 | Как разработчик, я хочу чтобы Nook запоминал размер и позицию окна между сессиями, чтобы не подстраивать каждый раз.

US-230 | Как разработчик, я хочу сворачивать Nook в трей (system tray), чтобы он работал в фоне не занимая место в панели задач.

US-231 | Как разработчик, я хочу видеть иконку в трее с индикатором (сколько подов запущено), чтобы знать состояние не открывая окно.

US-232 | Как разработчик, я хочу быстрые действия из контекстного меню трея (start/stop pod, open terminal), чтобы управлять без открытия окна.

US-233 | Как разработчик, я хочу dark-тему по умолчанию (стиль VS Code + Docker), чтобы UI не резал глаза.

US-234 | Как разработчик, я хочу light-тему как альтернативу, чтобы выбрать подходящую.

US-235 | Как разработчик, я хочу чтобы тема переключалась вместе с системной (follow system), чтобы автоматически адаптироваться.

US-236 | Как разработчик, я хочу видеть tooltip при наведении на элементы UI (порты, процессы, кнопки), чтобы понимать что они делают.

US-237 | Как разработчик, я хочу чтобы UI был отзывчивым и не зависал при длительных операциях (pull, build), чтобы продолжать работу.

US-238 | Как разработчик, я хочу видеть индикатор загрузки (spinner) при операциях, чтобы понимать что Nook работает.

US-239 | Как разработчик, я хочу отменить длительную операцию (build, pull), чтобы не ждать если передумал.

US-240 | Как разработчик, я хочу чтобы Nook не потреблял много CPU/RAM в idle, чтобы не мешать основной работе.

US-242 | Как разработчик, я хочу видеть status bar внизу экрана с общей информацией (X running, Y stopped, CPU/RAM total), чтобы иметь overview.

US-245 | Как разработчик, я хочу видеть бейдж с количеством ожидающих промптов (expose), чтобы не пропустить новый порт.

US-246 | Как разработчик, я хочу чтобы при ошибке popup не блокировал всю работу, а позволял работать с другими подами, чтобы ошибка одного пода не останавливала всю работу.

US-247 | Как разработчик, я хочу правым кликом на поде получить контекстное меню с действиями, чтобы использовать привычный UX.

---

## 9. Логи и отладка (US-248 — US-266)

US-248 | Как разработчик, я хочу видеть логи контейнера прямо в карточке пода (expandable), чтобы не открывать терминал для диагностики.

US-249 | Как разработчик, я хочу видеть последние N строк логов (tail), чтобы видеть актуальный вывод.

US-251 | Как разработчик, я хочу фильтровать логи по ключевому слову, чтобы найти конкретную ошибку.

US-253 | Как разработчик, я хочу скопировать логи в буфер обмена, чтобы отправить коллеге или в баг-трекер.

US-256 | Как разработчик, я хочу видеть build-лог при первом запуске пода (devcontainer up output), чтобы понять почему сборка упала.

US-257 | Как разработчик, я хочу чтобы ошибки в логах подсвечивались красным, чтобы быстро находить проблемы.

US-261 | Как разработчик, я хочу чтобы логи ротировались автоматически, чтобы не забивать диск.

US-262 | Как разработчик, я хочу видеть логи devcontainer CLI (не только контейнера), чтобы диагностировать проблемы с devcontainer up.

US-263 | Как разработчик, я хочу видеть логи проброса портов, чтобы понять почему expose не работает.

US-264 | Как разработчик, я хочу очистить логи контейнера в UI, чтобы начать отслеживать с чистого листа.

US-265 | Как разработчик, я хочу автоматически скроллить логи к последней строке, чтобы видеть свежий вывод.

US-266 | Как разработчик, я хочу отключить автоскролл логов автоматически, когда я прокручиваю страницу вверх, чтобы прочитать историю без прыжков. И включить, когда я прокручиваю страницу вниз до упора.

---

## 10. Автоматизация и workflow (US-267 — US-287)

US-274 | Как разработчик, я хочу управлять Nook из командной строки (CLI), чтобы интегрировать в скрипты.

US-275 | Как разработчик, я хочу команду `nook start <pod-name>` в CLI, чтобы запускать под из терминала.

US-276 | Как разработчик, я хочу команду `nook stop <pod-name>` в CLI, чтобы останавливать под из терминала.

US-277 | Как разработчик, я хочу команду `nook list` в CLI, чтобы видеть список подов и их статус.

US-278 | Как разработчик, я хочу команду `nook exec <pod> <cmd>` в CLI, чтобы выполнять команды в контейнере.

US-279 | Как разработчик, я хочу чтобы CLI общался с запущенным GUI через IPC, чтобы команды применялись к тому же состоянию.

---

## 11. Уведомления и предупреждения (US-288 — US-308)

US-288 | Как разработчик, я хочу получать in-window-уведомление когда под упал (exited), чтобы среагировать.

US-293 | Как разработчик, я хочу получать уведомление когда expose порта не удался (port busy), чтобы знать о проблеме.

US-295 | Как разработчик, я хочу отключить уведомления per-pod, чтобы не получать нотификации от стабильного сервиса.



---

## 14. Обработка ошибок и recovery (US-341 — US-360)

US-341 | Как разработчик, я хочу видеть понятное сообщение об ошибке если Docker не запущен, чтобы понять что делать.

US-342 | Как разработчик, я хочу кнопку Retry на любой ошибке, чтобы повторить операцию без перезапуска.

US-343 | Как разработчик, я хочу чтобы ошибка одного пода не влияла на работу других подов, чтобы продолжать работу.

US-344 | Как разработчик, я хочу видеть последнюю ошибку пода в его карточке, чтобы не забыть о проблеме.

US-345 | Как разработчик, я хочу dismiss ошибку пода, чтобы вернуть его в состояние Stopped.

US-346 | Как разработчик, я хочу видеть stderr / exit code при падении контейнера, чтобы диагностировать причину.

US-347 | Как разработчик, я хочу чтобы при потере соединения с Docker daemon Nook пытался переподключиться, чтобы восстановить работу.

US-348 | Как разработчик, я хочу чтобы при восстановлении Docker daemon Nook восстановил состояние подов, чтобы не перезапускать всё вручную.

US-349 | Как разработчик, я хочу чтобы при повреждении конфига Nook предложил сбросить к дефолтам, чтобы не редактировать JSON вручную.

US-350 | Как разработчик, я хочу чтобы Nook делал backup конфигов перед обновлением, чтобы я мог откатить настройки.

US-351 | Как разработчик, я хочу видеть ошибку в UI если devcontainer.json невалиден, чтобы знать что поправить.

US-354 | Как разработчик, я хочу чтобы Nook не крашился при неожиданном состоянии контейнера, чтобы приложение оставалось стабильным.

US-356 | Как разработчик, я хочу видеть health-индикатор Docker daemon в status bar, чтобы сразу заметить проблему.

US-357 | Как разработчик, я хочу чтобы Nook gracefully обрабатывал SIGTERM / SIGINT, чтобы при закрытии не оставались зомби-процессы.

US-358 | Как разработчик, я хочу чтобы при краше Nook поды продолжали работать, чтобы не терять рабочее состояние.

US-360 | Как разработчик, я хочу видеть в UI версию Nook и ссылку на changelog, чтобы знать какая версия установлена.

